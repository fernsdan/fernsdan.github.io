<!DOCTYPE html>
<html> 
    <!-- HTML is heirarchial: tags like this define elements on the page. 
    Each tag does something different. For example:
        - The <html> tag defines the whole document.
        - The <h1> tag defines a large heading
        - The <p> tag defines a paragraph
        - Tags appear as an opening <div> and closing </div> pair
    -->

<head>    
    <!-- The head tag links to resources our page needs and defines information about it. Tags in the <head> aren't displayed on the page. -->

    <!-- This is a link to a stylesheet which contains rules about how each element on the page should be defined-->
    <!-- Try swapping example1.css to another, and take a look at example1.css to see if you understand it-->
    <link rel="stylesheet" type="text/css" href="portfolio_styles.css">
    <title>Fernanda's final project</title> <!-- The title displayed in the browser tab, not on the page itself -->

    <!-- This is a link to the vega-lite which we're using to make graphs -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
        
    </style>
</head>

<body> 
<!-- The body tag contains the elements that visitors to our page will see. -->
    <h1 class="big" style="margin-bottom: 0px;"> <!-- We have added a class to the header called "big" which we can use to style it in the CSS -->
        <!-- This is a header, it is the largest text on the page -->
        Fernanda N.
    </h1>
    <p style="margin-top: 0px; color: #222222">
        <!-- we're setting the margin to 0px so the header and authour name are close together -->
        PP434 project | <a href="https://www.fernsdan.github.io">Home</a> | <a href="https://fernsdan.github.io/project">Project</a> | <a href="https://www.github.com/fernsdan">GitHub</a> | </p>



        <section>
        <div class="chart-description">
            <h2>Visualising freedom and prosperity: an exploration</h2>
            <h3>Aims and background</h3>
            <p>I explored the <a href="https://freedom-and-prosperity-indices.atlanticcouncil.org/library">Atlantic Council's Freedom and Prosperity Center indices</a> for this project. The aim is to create connections between the indices and outside data, which I collated, to note interesting patterns that (hopefully) would emerge. My guiding questions are: what trends can we observe in the freedom and prosperity of nations? And how much does income influence freedom and prosperity? </p>
             <p>The indices are broad, and each dimension is descriptive and analysed independently — the potential influences between each are not controlled for or measured. They provide interesting opportunities to investigate policy questions.</p>
            <p>The first two charts below are general representations of the two indices. The user can select a country to view in detail. More about the aims of each graph is included below.</p>
        
        </div>
        <figure id="project1"></figure>
        <figure id="project2"></figure>

        <div class="chart-description">
            <h2>Income</h2>
            <p>The first variable that came to mind was income; included in the prosperity index calculations but not in the freedom index. How much does GDP per capita inform about a nation's freedom? I created a scatterplot to visualize this and added a regression line to see the general direction of the relationship. Any econometric claims would require much more careful analysis but it's not unlikely that income is correlated with trade, bureaucracy or property rights, for example — all captured by the freedom index.</p>
        </div>
        <figure id="project5"></figure>
            
        <div class="chart-description">
            <h2>Migration</h2>
            <p>The 'hypothesis' behind creating this chart is that so-called 'freer' and more prosperous countries would attract more people who want to migrate. To avoid repetitive charts, I created an average index of the two metrics (Prosperity and Freedom) on Vega itself, using calculations.</p>
            <p>First, I created a chart using regions coded as colours, because I guessed that people probably migrate more within regions than across them. Since migration data is imperfect, and there are several reasons why a person would become a migrant (from conflict and refuge to economic-related reasons), the relationship wasn't immediately obvious:</p>
        

        <figure id="project3"></figure>
            
         <p>When I added an income filter instead, a clearer picture emerged:</p>

        <figure id="project4"></figure>
</div>


                    <div class="chart-description">
            <h2>Bridging indexes</h2>
            <p>For the final chart, I wanted to investigate a relationship across measures of each chart. I continued with income, from the Prosperity Index, and chose the Minorities component from the Freedom Index. Unsurprisingly, the two have a consistently positive correlation across the years in the data:</p>
        

        <figure id="project6"></figure>
            

</div>

            <div class="chart-description">
            <h2>Data: sources, notes and challenges</h2>
            <p>The data for the project came from The Atlantic Council's <a href="https://freedom-and-prosperity-indexes.atlanticcouncil.org/about">Freedom and Prosperity Center</a>, and the World Bank (2023 net migration and a GDP time series). The World Bank data is available through APIs but would not load on Vega -- something to explore further with more time. The datasets I used are publicly accessible via GitHub (<a href="https://github.com/fernsdan/fernsdan.github.io/blob/main/income_prosperity_merged.csv">here</a>) and Colab links are below, enabling replication of the analysis.</p>
                
                <p></p>My main challenge was working with Python on Colab to <a href="https://colab.research.google.com/drive/1-aVml5KsqyBaRd_Jwy_O-TlcWkmdFBso?usp=sharing">format the datasets and merge them</a> correctly. It took careful code editing (and referring back to class materials), many typo fixes and rewriting the data in the format Vega could read to <a href="https://colab.research.google.com/drive/1dU9yU_wQFwVYeEKNfYapitFK_T8wwZRi?usp=sharing">debug</a> the code. I also had to fix chart formatting due to the different scales and linearisation of the indices' data and adjusted Vega and my dataset so that it would be displayed correctly, in the right scales.</p>
            <p>Creating the visualizations also posed some interesting questions about which formats would work best for the data at hand, and I tried to find a balance between the amount of data in each and chart complexity. I tried to go with the simpler versions that I thought would work, in line with what we saw in class.</p>

                            <p><a href="https://freedom-and-prosperity-indices.atlanticcouncil.org/about">Methodology</a>: the freedom index includes (1) economic freedom (property rights, trade freedom, investment freedom, and women’s economic freedom), (2) political freedom (elections, civil liberties, political rights, and legislative constraints on the executive) and a (3) legal subindex (including clarity of the law, judicial independence and effectiveness, bureaucracy). The prosperity index is a weighted average composed of six components: (1) income, given by GDP per capita, (2) environment (including CO2 emissions per capita), (3) minorities (a composition that captures discrimination), (4) health (life expectancy), (5) education (years of schooling) and finally, (6) inequality (after taxes and transfers Gini coefficient).</p>
                <p>Creating the visualizations also posed some interesting questions about which formats would work best for the data at hand. I aimed to balance the amount of data and chart complexity. Ultimately, I chose the simpler versions, in line with what we saw in class.</p>

                <p>Data sources: <a href="https://freedom-and-prosperity-indexes.atlanticcouncil.org/about">Freedom and Prosperity indices</a>; <a href="https://colab.research.google.com/drive/1-aVml5KsqyBaRd_Jwy_O-TlcWkmdFBso?usp=sharing">Colab (1)</a>; <a href="https://colab.research.google.com/drive/1dU9yU_wQFwVYeEKNfYapitFK_T8wwZRi?usp=sharing">Colab (2)</a>.</p>
            
        
</div>

                        <div class="chart-description">
            <h2>Conclusions</h2>
            <p>These charts surround fundamental econometric and political questions about what makes societies better off and, in the case of migration, how people move with the hope of finding better conditions. It's unsurprising that income has such a strong positive relationship with how the index measures 'freedom' and also with migration patterns since it allows (on both national and individual levels) for expenditure on key areas. In the future, it would be interesting to explore further the nuances in the *causal* relationships between variables, exploring measures of welfare and prosperity that are not necessarily so attached to income and material well-being. </p>
            <p>This project provided an opportunity to spend time with specific datasets. Hopefully, the charts exemplify how data can tell different stories; and how seeing it becomes a tool to judge the data.</p>


                            
</div>

            
    </section>





        <script>
        // This is a comment in JavaScript - it's a different language to HTML and CSS

        let figure_1_spec = "project_freedom_selector.json";
        let figure_2_spec = "project_prosperity_selector.json";
        let figure_3_spec = "project_migration_region.json";
        let figure_4_spec = "project_migration_prosperity_income.json";
        let figure_5_spec = "project_income_prosperity.json";
        let figure_6_spec = "income_minorities.json"

        vegaEmbed('#project1', figure_1_spec)
        vegaEmbed('#project2', figure_2_spec)
        vegaEmbed('#project3', figure_3_spec)
        vegaEmbed('#project4', figure_4_spec)  
        vegaEmbed('#project5', figure_5_spec)
        vegaEmbed('#project6', figure_6_spec)



    </script>

</body>
    
</html>





    
