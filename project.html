<!DOCTYPE html>
<html> 
    <!-- HTML is heirarchial: tags like this define elements on the page. 
    Each tag does something different. For example:
        - The <html> tag defines the whole document.
        - The <h1> tag defines a large heading
        - The <p> tag defines a paragraph
        - Tags appear as an opening <div> and closing </div> pair
    -->

<head>    
    <!-- The head tag links to resources our page needs and defines information about it. Tags in the <head> aren't displayed on the page. -->

    <!-- This is a link to a stylesheet which contains rules about how each element on the page should be defined-->
    <!-- Try swapping example1.css to another, and take a look at example1.css to see if you understand it-->
    <link rel="stylesheet" type="text/css" href="portfolio_styles.css">
    <title>Fernanda's final project</title> <!-- The title displayed in the browser tab, not on the page itself -->

    <!-- This is a link to the vega-lite which we're using to make graphs -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
        
    </style>
</head>

<body> 
<!-- The body tag contains the elements that visitors to our page will see. -->
    <h1 class="big" style="margin-bottom: 0px;"> <!-- We have added a class to the header called "big" which we can use to style it in the CSS -->
        <!-- This is a header, it is the largest text on the page -->
        Fernanda N.
    </h1>
    <p style="margin-top: 0px; color: #222222">
        <!-- we're setting the margin to 0px so the header and authour name are close together -->
        PP434 project | <a href="https://www.fernsdan.github.io">Home</a> | <a href="https://fernsdan.github.io/project">Project</a> | <a href="https://www.github.com/fernsdan">GitHub</a> | </p>



        <section>
        <div class="chart-description">
            <h2>Visualising freedom and prosperity: an exploration</h2>
            <h3>Aims and background</h3>
            <p>For this project, I explored the <a href="https://freedom-and-prosperity-indices.atlanticcouncil.org/library">Atlantic Council's Freedom and Prosperity Center indices</a>. The aim is to create connections between the indices and outside data, which I collated, to note interesting patterns that (hopefully) would emerge.</p>
             <p>The indices consist of several variables that help understand (and explain) the differences between countries' freedom and prosperity levels. Still, they are descriptive and each dimension is analysed independently — the potential influences between each are not controlled for or measured.</p>
            <p>In terms of <a href="https://freedom-and-prosperity-indices.atlanticcouncil.org/about">methodology</a>, the <b>freedom index</b> includes (1) economic freedom (property rights, trade freedom, investment freedom, and women’s economic freedom), (2) political freedom (elections, civil liberties, political rights, and legislative constraints on the executive) and a (3) legal subindex (clarity of the law, judicial independence and effectiveness, bureaucracy and corruption, security, and informality). The <b>prosperity index</b> has more parts, it is a weighted average composed of <b>six</b> components: (1) income, given by GDP per capita, (2) environment (CO2 emissions per capita, share of the population with access to clean cooking technologies), (3) minorities (a composition that captures discrimination), (4) health, captured by life expectancy, (5) education (years of schooling) and finally, (6) inequality (after taxes and transfers Gini coefficient).</p>
            <p>Because the index is so broad and rigid in its methodology, it can provide an interesting opportunity to investigate several policy questions.
</p>
            <p>Both indices have data from 1995 to 2023. The first two charts below are a general representation of the two indices, and the user can select a country to view in detail, comparatively.
</p>
        
        </div>
        <figure id="project1"></figure>
        <figure id="project2"></figure>

        <div class="chart-description">
            <h2>Income</h2>
            <p>The first variable that came to mind was income, which is included in the prosperity index calculations but not in the freedom index. How much, if anything, does GDP per capita inform about a nation's freedom? I created a scatterplot to visualize this and added a regression line to see the general direction of the relationship. Of course, any econometric claims would require much more careful analysis, but it's not unlikely that income is correlated with trade, bureaucracy or property rights, for example -- all of which are captured by the freedom index.</p>
        </div>
        <figure id="project5"></figure>
            
        <div class="chart-description">
            <h2>Migration</h2>
            <p>The 'hypothesis' behind creating this chart is that so-called 'freer' and more prosperous countries would attract more people who want to migrate. To avoid repetitive charts, I created an average index of the two metrics (Prosperity and Freedom) for each country, on Vega itself using calculations.</p>
            <p>First, I created a chart using regions coded as colours, because I guessed that people probably migrate more within regions than across them. Since migration data is imperfect, and there are several reasons why a person would become a migrant (from conflict and refuge to economic-related reasons), the relationship wasn't immediately obvious:</p>
        

        <figure id="project3"></figure>
            
         <p>When I added an income filter instead, a clearer picture emerged:</p>

        <figure id="project4"></figure>
</div>


                    <div class="chart-description">
            <h2>Bridging indexes</h2>
            <p>For the final chart, I wanted to investigate a relationship across measures of each chart. I continued with income, from the Prosperity Index, and chose the Minorities component from the Freedom Index. Unsurprisingly, the two have a consistently positive correlation across the years in the data:</p>
        

        <figure id="project6"></figure>
            

</div>

            <div class="chart-description">
            <h2>Data: sources and challenges</h2>
            <p>As noted in each graph, the data I used came from The Atlantic Council's <a href="https://freedom-and-prosperity-indexes.atlanticcouncil.org/about">Freedom and Prosperity Center</a>, and the World Bank for <a href="https://data.worldbank.org/indicator/SM.POP.NETM">net migration</a> and historical data for <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.PP.KD">GDP per capita</a>. My main challenge was working with Python on Colab to <a href="https://colab.research.google.com/drive/1-aVml5KsqyBaRd_Jwy_O-TlcWkmdFBso?usp=sharing">format the datasets and merge them</a> correctly. It took a few tries, many typo fixes and rewriting the data in the format that Vega could actually work to <a href="https://colab.research.google.com/drive/1dU9yU_wQFwVYeEKNfYapitFK_T8wwZRi?usp=sharing">debug</a> the code.</p>
            <p>Creating the visualizations also posed some interesting questions about which formats would work best for the data at hand, and I tried to find a balance between the amount of data in each and chart complexity. I tried to go with the simpler versions that I thought would work, in line with what we saw in class.</p>
        
</div>

                        <div class="chart-description">
            <h2>Conclusions</h2>
            <p>While the information here is not robust enough to make any definitive claims, TKTK.</p>
        
</div>

            
    </section>





        <script>
        // This is a comment in JavaScript - it's a different language to HTML and CSS

        let figure_1_spec = "project_freedom_selector.json";
        let figure_2_spec = "project_prosperity_selector.json";
        let figure_3_spec = "project_migration_region.json";
        let figure_4_spec = "project_migration_prosperity_income.json";
        let figure_5_spec = "project_income_prosperity.json";
        let figure_6_spec = "income_minotirities.json"

        vegaEmbed('#project1', figure_1_spec)
        vegaEmbed('#project2', figure_2_spec)
        vegaEmbed('#project3', figure_3_spec)
        vegaEmbed('#project4', figure_4_spec)  
        vegaEmbed('#project5', figure_5_spec)
        vegaEmbed('#project6', figure_6_spec)



    </script>

</body>
    
</html>





    
